"use strict";(self.webpackChunkhd_docs=self.webpackChunkhd_docs||[]).push([[119],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>k});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),p=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):l(l({},a),e)),t},m=function(e){var a=p(e.components);return n.createElement(s.Provider,{value:a},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),u=p(t),c=r,k=u["".concat(s,".").concat(c)]||u[c]||d[c]||o;return t?n.createElement(k,l(l({ref:a},m),{},{components:t})):n.createElement(k,l({ref:a},m))}));function k(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=c;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i[u]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=t[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},8059:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=t(7462),r=(t(7294),t(3905));const o={slug:"script-field"},l="Campo Calculado (Script)",i={unversionedId:"forms/script-field",id:"forms/script-field",title:"Campo Calculado (Script)",description:"Introdu\xe7\xe3o",source:"@site/docs/forms/31-script-field.md",sourceDirName:"forms",slug:"/forms/script-field",permalink:"/docs/forms/script-field",draft:!1,editUrl:"https://github.com/hashdata-org/docs/tree/master/docs/forms/31-script-field.md",tags:[],version:"current",sidebarPosition:31,frontMatter:{slug:"script-field"},sidebar:"tutorialSidebar",previous:{title:"Elementos (Entrada de Dados)",permalink:"/docs/forms/input-elements"},next:{title:"Elementos (Visualiza\xe7\xe3o)",permalink:"/docs/forms/visualization-elements"}},s={},p=[{value:"Introdu\xe7\xe3o",id:"introdu\xe7\xe3o",level:2},{value:"Criando uma f\xf3rmula simples",id:"criando-uma-f\xf3rmula-simples",level:2},{value:"Atributos gerais das respostas",id:"atributos-gerais-das-respostas",level:2},{value:"name",id:"name",level:3},{value:"tags",id:"tags",level:3},{value:"Atributos espec\xedficos das respostas",id:"atributos-espec\xedficos-das-respostas",level:2},{value:"text",id:"text",level:3},{value:"label",id:"label",level:3},{value:"number",id:"number",level:3},{value:"dateStr",id:"datestr",level:3},{value:"lat",id:"lat",level:3},{value:"lon",id:"lon",level:3},{value:"items",id:"items",level:3},{value:"Fun\xe7\xf5es dispon\xedveis",id:"fun\xe7\xf5es-dispon\xedveis",level:2},{value:"all",id:"all",level:3},{value:"findByTag",id:"findbytag",level:3},{value:"avgByTag",id:"avgbytag",level:3},{value:"sumByTag",id:"sumbytag",level:3},{value:"countByTag",id:"countbytag",level:3},{value:"maxByTag",id:"maxbytag",level:3},{value:"minByTag",id:"minbytag",level:3},{value:"hasContent",id:"hascontent",level:3},{value:"isEmpty",id:"isempty",level:3},{value:"Exemplos",id:"exemplos",level:2},{value:"Exemplo 1",id:"exemplo-1",level:3},{value:"Exemplo 2",id:"exemplo-2",level:3},{value:"Fun\xe7\xf5es matem\xe1ticas pr\xe9-definidas",id:"fun\xe7\xf5es-matem\xe1ticas-pr\xe9-definidas",level:2},{value:"Constantes matem\xe1ticas pr\xe9-definidas",id:"constantes-matem\xe1ticas-pr\xe9-definidas",level:2}],m={toc:p},u="wrapper";function d(e){let{components:a,...o}=e;return(0,r.kt)(u,(0,n.Z)({},m,o,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"campo-calculado-script"},"Campo Calculado (Script)"),(0,r.kt)("h2",{id:"introdu\xe7\xe3o"},"Introdu\xe7\xe3o"),(0,r.kt)("p",null,"Campos calculados permitem a cria\xe7\xe3o de f\xf3rmulas matem\xe1ticas que usam valores associados \xe0s respostas para calcular\nvalores diversos, tais como m\xe9dias, valores m\xe1ximos, m\xednimos, desv\xedos padr\xf5es, etc."),(0,r.kt)("p",null,"Para construir uma f\xf3rmula voc\xea pode usar qualquer tipo de campo/resposta que tenha um valor n\xfamerico atribu\xeddo."),(0,r.kt)("p",null,"Veja abaixo a lista de quest\xf5es que possuem ou, podem possuir, valores num\xe9ricos associados e podem ser usadas em uma f\xf3rmula:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Quest\xf5es num\xe9ricas (Inteiros, decimais e quantidade usando Emojis)"),(0,r.kt)("li",{parentName:"ul"},"Quest\xf5es de sele\xe7\xe3o \xfanica (Menu suspenso, R\xe1dio e Bot\xf5es)"),(0,r.kt)("li",{parentName:"ul"},"Quest\xf5es de sele\xe7\xe3o m\xfaltipla (Caixas de sele\xe7\xe3o e Bot\xf5es)"),(0,r.kt)("li",{parentName:"ul"},"Quest\xf5es de data e hora"),(0,r.kt)("li",{parentName:"ul"},"Quest\xf5es de avalia\xe7\xe3o (Express\xf5es faciais e Emojis)"),(0,r.kt)("li",{parentName:"ul"},"Quest\xf5es de envio de arquivos (n\xfamero de arquivos enviados)")),(0,r.kt)("h2",{id:"criando-uma-f\xf3rmula-simples"},"Criando uma f\xf3rmula simples"),(0,r.kt)("p",null,"Imagine que voc\xea queira criar uma f\xf3rmula que calcule o peso m\xe9dio de uma s\xe9rie de amostras de determinado produto.\nAssim, imagine que o formul\xe1rio tenha as seguintes quest\xf5es:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Peso da amostra 1"),(0,r.kt)("li",{parentName:"ul"},"Peso da amostra 2"),(0,r.kt)("li",{parentName:"ul"},"Peso da amostra 3")),(0,r.kt)("p",null,"Neste caso, cada pergunta deve ser configurada com um nome de campo \xfanico, por exemplo,\n",(0,r.kt)("inlineCode",{parentName:"p"},"peso_amostra_1"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"peso_amostra_2")," e ",(0,r.kt)("inlineCode",{parentName:"p"},"peso_amostra_3"),".\n// TODO: Adicionar imagens"),(0,r.kt)("p",null,"Para isso, voc\xea deve criar um campo calculado e, em seguida, adicionar a f\xf3rmula desejada:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function calculateValue() {\n    return (resp.peso_amostra_1.number\n          + resp.peso_amostra_2.number\n          + resp.peso_amostra_3.number) / 3;\n}\n")),(0,r.kt)("p",null,"Vamos analisar cada parte da f\xf3rmula:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"function calculateValue()")," \xe9 a fun\xe7\xe3o que ser\xe1 executada para calcular o valor do campo calculado.\nEssa fun\xe7\xe3o n\xe3o pode ser renomeada, ela deve sempre ter esse nome, n\xe3o pode receber par\xe2metros e deve retornar um valor num\xe9rico ou ",(0,r.kt)("inlineCode",{parentName:"li"},"null")," (nulo/vazio)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"resp")," \xe9 um objeto que cont\xe9m todas as ",(0,r.kt)("strong",{parentName:"li"},"respostas")," do formul\xe1rio."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"resp.peso_amostra_1")," \xe9 uma estrutura que cont\xe9m os dados associados \xe0 resposta da pergunta ",(0,r.kt)("inlineCode",{parentName:"li"},"peso_amostra_1"),", tais como:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"number")," \xe9 o valor num\xe9rico da resposta"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name")," \xe9 o nome do campo da pergunta, ex.: ",(0,r.kt)("inlineCode",{parentName:"li"},"peso_amostra_1")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"tags")," \xe9 uma lista de ",(0,r.kt)("inlineCode",{parentName:"li"},"tags")," associadas \xe0 pergunta"))),(0,r.kt)("li",{parentName:"ul"},"Por fim, a f\xf3rmula calcula a m\xe9dia aritm\xe9tica dos valores das respostas, somando ",(0,r.kt)("inlineCode",{parentName:"li"},"peso_amostra_1"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"peso_amostra_2"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"peso_amostra_3")," e dividindo por 3.")),(0,r.kt)("admonition",{title:"Nomes de vari\xe1veis",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Voc\xea pode usar qualquer nome para as vari\xe1veis, mas \xe9 recomendado que voc\xea use nomes que fa\xe7am sentido para o seu formul\xe1rio.")),(0,r.kt)("admonition",{title:"Autocomplete",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"O editor de c\xf3digo possui ",(0,r.kt)("inlineCode",{parentName:"p"},"autocomplete"),", ou seja, ele ir\xe1 sugerir os nomes de vari\xe1veis e fun\xe7\xf5es dispon\xedveis para voc\xea usar na f\xf3rmula."),(0,r.kt)("p",{parentName:"admonition"},"Voc\xea pode usar as teclas ",(0,r.kt)("inlineCode",{parentName:"p"},"Ctrl+Space")," ou ",(0,r.kt)("inlineCode",{parentName:"p"},"Ctrl+Shift+Space")," para ativar o autocomplete manualmente.")),(0,r.kt)("h2",{id:"atributos-gerais-das-respostas"},"Atributos gerais das respostas"),(0,r.kt)("p",null,"Todas as respostas possuem no m\xednimo tr\xeas atributos: ",(0,r.kt)("inlineCode",{parentName:"p"},"name"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"tags")," e um ou mais atributos espec\xedficos\ndo tipo de resposta, por exemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"number")," para quest\xf5es num\xe9ricas, ",(0,r.kt)("inlineCode",{parentName:"p"},"text")," para quest\xf5es de texto, etc."),(0,r.kt)("h3",{id:"name"},"name"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"name: string")),(0,r.kt)("p",null,"Nome da pergunta. Exemplo: ",(0,r.kt)("inlineCode",{parentName:"p"},"peso_amostra_1")),(0,r.kt)("h3",{id:"tags"},"tags"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"tags: string[];")),(0,r.kt)("p",null,"Lista de tags da quest\xe3o, exemplo: ",(0,r.kt)("inlineCode",{parentName:"p"},"['peso', 'amostra']")),(0,r.kt)("p",null,"As ",(0,r.kt)("inlineCode",{parentName:"p"},"tags")," s\xe3o usadas para agrupar quest\xf5es e facilitar a cria\xe7\xe3o de f\xf3rmulas.\nPor exemplo, para calcular a m\xe9dia dos pesos de v\xe1rias amostras, basta colocar uma tag\nem cada quest\xe3o de peso, por exemplo, ",(0,r.kt)("inlineCode",{parentName:"p"},"#peso"),", e usar essa tag na f\xf3rmula:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function calculateValue() {\n    return avgByTag('#peso');\n}\n")),(0,r.kt)("p",null,"Onde ",(0,r.kt)("inlineCode",{parentName:"p"},"avgByTag"),' significa: "average by tag", ou seja, "m\xe9dia por tag".'),(0,r.kt)("h2",{id:"atributos-espec\xedficos-das-respostas"},"Atributos espec\xedficos das respostas"),(0,r.kt)("p",null,"Veja abaixo a lista de atributos espec\xedficos dispon\xedveis para cada tipo de resposta:"),(0,r.kt)("h3",{id:"text"},"text"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"text?: string;")),(0,r.kt)("p",null,"Conte\xfado textual da resposta, dispon\xedvel para quest\xf5es do tipo:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Texto de uma linha"),(0,r.kt)("li",{parentName:"ul"},"Texto de v\xe1rias linhas"),(0,r.kt)("li",{parentName:"ul"},"E-mail")),(0,r.kt)("admonition",{title:'Caracter "?" ',type:"tip"},(0,r.kt)("p",{parentName:"admonition"},'O caracter "?" indica que o atributo \xe9 opcional, ou seja, ele pode ou n\xe3o existir.\nSe o usu\xe1rio responder \xe0 quest\xe3o o atributo existir\xe1, caso contr\xe1rio, ele n\xe3o existir\xe1.')),(0,r.kt)("h3",{id:"label"},"label"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"label?: string;")),(0,r.kt)("p",null,"Etiqueta ou Texto vinculado \xe0 op\xe7\xe3o selecionada, dispon\xedvel para quest\xf5es do tipo:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sele\xe7\xe3o \xfanica"),(0,r.kt)("li",{parentName:"ul"},"Sele\xe7\xe3o m\xfaltipla"),(0,r.kt)("li",{parentName:"ul"},"Express\xf5es faciais")),(0,r.kt)("h3",{id:"number"},"number"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"number?: number;")),(0,r.kt)("p",null,"Conte\xfado num\xe9rico da resposta, seja o conte\xfado fornecido pelo usu\xe1rio, seja o conte\xfado num\xe9rico\nvinculado \xe0 op\xe7\xe3o selecionada.\nDispon\xedvel para quest\xf5es do tipo:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"N\xfameros inteiro"),(0,r.kt)("li",{parentName:"ul"},"N\xfameros decimais"),(0,r.kt)("li",{parentName:"ul"},"Quantidade usando Emojis"),(0,r.kt)("li",{parentName:"ul"},"F\xf3rmula matem\xe1tica"),(0,r.kt)("li",{parentName:"ul"},"Sele\xe7\xe3o \xfanica/simples"),(0,r.kt)("li",{parentName:"ul"},"Express\xf5es faciais"),(0,r.kt)("li",{parentName:"ul"},"Tempo/Hora")),(0,r.kt)("h3",{id:"datestr"},"dateStr"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"dateStr?: string;")),(0,r.kt)("p",null,"Data em forma de texto (string).\nFormato: ",(0,r.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DDTHH:MM:SSZ"),", ex: 2030-12-31T23:59:59Z"),(0,r.kt)("p",null,"Dispon\xedvel para quest\xf5es do tipo:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Data"),(0,r.kt)("li",{parentName:"ul"},"Data e hora")),(0,r.kt)("h3",{id:"lat"},"lat"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"lat?: number;")),(0,r.kt)("p",null,"Latitude da coordenada geogr\xe1fica informada na resposta"),(0,r.kt)("h3",{id:"lon"},"lon"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"lon?: number;")),(0,r.kt)("p",null,"Longitude da coordenada geogr\xe1fica informada na resposta"),(0,r.kt)("h3",{id:"items"},"items"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"items?: ISelectedItem[];")),(0,r.kt)("p",null,"Lista de itens selecionados, dispon\xedvel para quest\xf5es do tipo:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Sele\xe7\xe3o m\xfaltipla"),(0,r.kt)("li",{parentName:"ul"},"Ordena\xe7\xe3o")),(0,r.kt)("p",null,"Cada item da lista de ",(0,r.kt)("inlineCode",{parentName:"p"},"items")," possui os seguintes atributos:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"label: string"),": Etiqueta ou Texto vinculado \xe0 op\xe7\xe3o selecionada."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"number?: number"),": Conte\xfado num\xe9rico da op\xe7\xe3o selecionada. "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"position?: number"),": N\xfamero que representa a ordem escolhida pelo usu\xe1rio para o item selecionado.\nDispon\xedvel apenas nas quest\xf5es do tipo ",(0,r.kt)("inlineCode",{parentName:"li"},"Ordena\xe7\xe3o"))),(0,r.kt)("h2",{id:"fun\xe7\xf5es-dispon\xedveis"},"Fun\xe7\xf5es dispon\xedveis"),(0,r.kt)("p",null,"As fun\xe7\xf5es abaixo s\xe3o ferramentas que auxiliam na cria\xe7\xe3o de f\xf3rmulas, permitindo que voc\xea realize c\xe1lculos complexos\nem dezenas ou centenas de respostas com apenas uma linha de c\xf3digo."),(0,r.kt)("h3",{id:"all"},"all"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"function all(): IResponse[];")),(0,r.kt)("p",null,"Retorna uma lista (array) com todas as respostas existentes at\xe9 o momento de execu\xe7\xe3o do c\xf3digo, ou seja,\nas repostas das perguntas que aparecem antes deste elemento."),(0,r.kt)("admonition",{title:"Aten\xe7\xe3o",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},'Note que nem sempre existir\xe1 resposta para uma pergunta posicionada antes da f\xf3rmula, pois as\nperguntas podem ser "puladas" por meio de uma l\xf3gica de navega\xe7\xe3o ou simplesmente n\xe3o serem respondidas.'),(0,r.kt)("p",{parentName:"admonition"},"Este aviso vale para todas as fun\xe7\xf5es que retornam uma lista de respostas.")),(0,r.kt)("h3",{id:"findbytag"},"findByTag"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"function findByTag(oneOrMoreTagNames: string | string[]): IResponse[];")),(0,r.kt)("p",null,"Retorna uma lista (array) com as respostas que possuem as tags especificadas. ",(0,r.kt)("br",null),"\nSomente as perguntas que aparecem antes deste elemento ser\xe3o analisadas."),(0,r.kt)("p",null,"Exemplo:"),(0,r.kt)("p",null,"A fun\xe7\xe3o abaixo retorna a quantidade de respostas que possuem a tag ",(0,r.kt)("inlineCode",{parentName:"p"},"#peso"),", ou seja,\na quantidade de amostras preenchidas pelo usu\xe1rio."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function calculateValue() {\n    const qntAmostras = findByTag('#peso').filter(r => hasContent(r.number)).length;\n    return qntAmostras;\n}\n")),(0,r.kt)("h3",{id:"avgbytag"},"avgByTag"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"function avgByTag(...oneOrMoreTagNames: string[]): number;")),(0,r.kt)("p",null,"Calcula a m\xe9dia dos valores num\xe9ricos das respostas que possuem as tags especificadas."),(0,r.kt)("p",null,"Respostas que n\xe3o possuem valor num\xe9rico s\xe3o ignoradas."),(0,r.kt)("p",null,"Somente as perguntas que aparecem antes deste elemento ser\xe3o analisadas."),(0,r.kt)("admonition",{title:"Dica",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Evite calcular m\xe9dias de forma manual, pois se alguma das respostas estiver em branco (n\xe3o preenchida) o resultado final\npoder\xe1 diferir do esperado."),(0,r.kt)("p",{parentName:"admonition"},"Ex.: Se o voc\xea usar a seguinte f\xf3rmula para calcular a m\xe9dia de 3 pesos: ",(0,r.kt)("inlineCode",{parentName:"p"},"(peso1 + peso2 + peso3) / 3"),", o resultado\ns\xf3 ser\xe1 correto se todas as 3 amostras forem preenchidas. Caso contr\xe1rio, o resultado ser\xe1 incorreto."),(0,r.kt)("p",{parentName:"admonition"},"Image que o usu\xe1rio preencheu apenas 2 amostras, ou seja, ",(0,r.kt)("inlineCode",{parentName:"p"},"peso1")," e ",(0,r.kt)("inlineCode",{parentName:"p"},"peso2"),", e deixou a terceira amostra em branco,\nneste caso, o resultado da f\xf3rmula ser\xe1: ",(0,r.kt)("inlineCode",{parentName:"p"},"(peso1 + peso2) / 3"),", que \xe9 diferente do resultado correto: ",(0,r.kt)("inlineCode",{parentName:"p"},"(peso1 + peso2) / 2"),"."),(0,r.kt)("p",{parentName:"admonition"},"Para evitar esse tipo de situa\xe7\xe3o, recomenda-se usar a fun\xe7\xe3o ",(0,r.kt)("inlineCode",{parentName:"p"},"avgByTag")," para calcular a m\xe9dia,\npois ela trata adequadamente as respostas em branco, ou seja, o resultado ser\xe1 sempre correto.")),(0,r.kt)("h3",{id:"sumbytag"},"sumByTag"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"function sumByTag(...oneOrMoreTagNames: string[]): number;")),(0,r.kt)("p",null,"Calcula o somat\xf3rio dos valores num\xe9ricos das respostas que possuem as tags especificadas."),(0,r.kt)("p",null,"Somente as perguntas que aparecem antes deste elemento ser\xe3o analisadas."),(0,r.kt)("h3",{id:"countbytag"},"countByTag"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"function countByTag(...oneOrMoreTagNames: string[]): number;")),(0,r.kt)("p",null,"Retorna a quantidade de respostas que possuem as tags especificadas."),(0,r.kt)("p",null,"Somente as perguntas que aparecem antes deste elemento ser\xe3o analisadas."),(0,r.kt)("h3",{id:"maxbytag"},"maxByTag"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"function maxByTag(...oneOrMoreTagNames: string[]): number | undefined;")),(0,r.kt)("p",null,"Retorna o maior valor num\xe9rico existente nas respostas que possuem as tags especificadas ou 'undefined' caso nenhum valor seja encontrado."),(0,r.kt)("p",null,"Respostas que n\xe3o possuem valor num\xe9rico s\xe3o ignoradas."),(0,r.kt)("p",null,"Somente as perguntas que aparecem antes deste elemento ser\xe3o analisadas."),(0,r.kt)("h3",{id:"minbytag"},"minByTag"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"function minByTag(...oneOrMoreTagNames: string[]): number | undefined;")),(0,r.kt)("p",null,"Retorna o menor valor num\xe9rico existente nas respostas que possuem as tags especificadas ou 'undefined' caso nenhum valor seja encontrado."),(0,r.kt)("p",null,"Respostas que n\xe3o possuem valor num\xe9rico s\xe3o ignoradas."),(0,r.kt)("p",null,"Somente as perguntas que aparecem antes deste elemento ser\xe3o analisadas."),(0,r.kt)("h3",{id:"hascontent"},"hasContent"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"declare function hasContent(value: any): boolean;")),(0,r.kt)("p",null," Retorna ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," caso o valor informado seja diferente de ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"[]")," ou uma string vazia (",(0,r.kt)("inlineCode",{parentName:"p"},"''"),")."),(0,r.kt)("h3",{id:"isempty"},"isEmpty"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"declare function isEmpty(value: any): boolean;")),(0,r.kt)("p",null," Retorna ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," caso o valor informado seja ",(0,r.kt)("inlineCode",{parentName:"p"},"undefined"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"[]")," ou uma string vazia (",(0,r.kt)("inlineCode",{parentName:"p"},"''"),")."),(0,r.kt)("h2",{id:"exemplos"},"Exemplos"),(0,r.kt)("h3",{id:"exemplo-1"},"Exemplo 1"),(0,r.kt)("p",null,"Neste exemplo iremos mostrar como calcular os valores da F\xf3rmula de Bhaskara.\nO objetivo deste exemplo \xe9 mostrar como armazenar valores parciais em vari\xe1veis\ne como usar esses valores para realizar c\xe1lculos mais complexos."),(0,r.kt)("p",null,"Neste exemplo veremos, tamb\xe9m, como usar fun\xe7\xf5es matem\xe1ticas pr\xe9-definas, como ",(0,r.kt)("inlineCode",{parentName:"p"},"Math.sqrt")," e ",(0,r.kt)("inlineCode",{parentName:"p"},"Math.pow"),"."),(0,r.kt)("p",null,"Defini\xe7\xe3o da f\xf3rmula de Bhaskara:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"F\xf3rmula de Bhaskara",src:t(5327).Z,width:"200",height:"132"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function calculateValue() {\n    let a = resp.a.number;\n    let b = resp.b.number;\n    let c = resp.c.number;\n    \n    let delta = Math.pow(b, 2) - 4 * a * c;\n    \n    let x1 = (-b + Math.sqrt(delta)) / (2 * a);\n    let x2 = (-b - Math.sqrt(delta)) / (2 * a);\n    return x1; // ou x2\n}\n")),(0,r.kt)("p",null,"Onde:\n",(0,r.kt)("inlineCode",{parentName:"p"},"Math.pow(b, 2)")," \xe9 equivalente a ",(0,r.kt)("inlineCode",{parentName:"p"},"b\xb2")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Math.sqrt(delta)")," \xe9 equivalente a ",(0,r.kt)("inlineCode",{parentName:"p"},"\u221adelta")),(0,r.kt)("h3",{id:"exemplo-2"},"Exemplo 2"),(0,r.kt)("p",null,"Neste exemplo veremos como calcular a sequ\xeancia de Fibonacci.\nO Objetivo deste exemplo \xe9 mostrar que \xe9 poss\xedvel definir e usar fun\xe7\xf5es diversas, inclusive fun\xe7\xf5es recursivas,\npermitindo assim, a cria\xe7\xe3o de c\xe1lculos mais complexos."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},"function calculateValue() {\n    const n = resp.any_question_answer.number;\n    return fibonacci(n);\n}\n\nfunction fibonacci(n: number): number {\n    if (n <= 1) {\n        return n;\n    }\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n")),(0,r.kt)("h2",{id:"fun\xe7\xf5es-matem\xe1ticas-pr\xe9-definidas"},"Fun\xe7\xf5es matem\xe1ticas pr\xe9-definidas"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"abs(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o valor absoluto de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"acos(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o arco cosseno de x, em radianos")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"acosh(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o arco cosseno hiperb\xf3lico de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"asin(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o arco seno de x, em radianos")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"asinh(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o arco-seno hiperb\xf3lico de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"atan(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o arco tangente de x como um valor num\xe9rico entre -PI/2 e PI/2 radianos")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"atan2(y, x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o arco tangente do quociente de seus argumentos")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"atanh(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o arco tangente hiperb\xf3lico de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"cbrt(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a raiz c\xfabica de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"ceil(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna x, arredondado para cima para o inteiro mais pr\xf3ximo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"clz32(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o n\xfamero de zeros \xe0 esquerda em uma representa\xe7\xe3o bin\xe1ria de 32 bits de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"cos(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o cosseno de x (x est\xe1 em radianos)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"cosh(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o cosseno hiperb\xf3lico de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"exp(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o valor de Ex")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"expm1(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o valor de Ex menos 1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"floor(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna x, arredondado para baixo para o inteiro mais pr\xf3ximo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fround(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a representa\xe7\xe3o flutuante mais pr\xf3xima (precis\xe3o \xfanica de 32 bits) de um n\xfamero")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"log(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo natural de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"log10(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo de base 10 de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"log1p(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo natural de 1 + x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"log2(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo de base 2 de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"max(x1,x2,..)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o n\xfamero com o maior valor")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"min(x1,x2,..)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o n\xfamero com o menor valor")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"pow(x, y)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o valor de x elevado a y")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"random()"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna um n\xfamero aleat\xf3rio entre 0 e 1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"round(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Arredonda x para o inteiro mais pr\xf3ximo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"sign(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o sinal de um n\xfamero (verifica se \xe9 positivo, negativo ou zero)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"sin(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o seno de x (x est\xe1 em radianos)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"sinh(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o seno hiperb\xf3lico de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"sqrt(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a raiz quadrada de x")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tan(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a tangente de um \xe2ngulo")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"tanh(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a tangente hiperb\xf3lica de um n\xfamero")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"trunc(x)"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a parte inteira de um n\xfamero (x)")))),(0,r.kt)("h2",{id:"constantes-matem\xe1ticas-pr\xe9-definidas"},"Constantes matem\xe1ticas pr\xe9-definidas"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Nome"),(0,r.kt)("th",{parentName:"tr",align:null},"Descri\xe7\xe3o"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.E"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o n\xfamero de Euler (aprox. 2,718)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.PI"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna PI (aprox. 3,14)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.SQRT2"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a raiz quadrada de 2 (aprox. 1,414)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.SQRT1_2"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna a raiz quadrada de 1/2 (aprox. 0,707)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.LN2"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo natural de 2 (aprox. 0,693)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.LN10"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo natural de 10 (aprox. 2,302)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.LOG2E"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo de base 2 de E (aprox. 1,442)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Math.LOG10E"),(0,r.kt)("td",{parentName:"tr",align:null},"Retorna o logaritmo de base 10 de E (aprox. 0,434)")))))}d.isMDXComponent=!0},5327:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/images/bhaskara-f455c2079f0bb90d6fdfba92ef9a7d8b.png"}}]);