<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-forms/script-field" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Calculated Field (Script) | Hashdata Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.hashdata.app/docs/en/img/hashdata-social-card.webp"><meta data-rh="true" name="twitter:image" content="https://docs.hashdata.app/docs/en/img/hashdata-social-card.webp"><meta data-rh="true" property="og:url" content="https://docs.hashdata.app/docs/en/forms/script-field"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="pt"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Calculated Field (Script) | Hashdata Docs"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/docs/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.hashdata.app/docs/en/forms/script-field"><link data-rh="true" rel="alternate" href="https://docs.hashdata.app/docs/forms/script-field" hreflang="pt"><link data-rh="true" rel="alternate" href="https://docs.hashdata.app/docs/en/forms/script-field" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.hashdata.app/docs/es/forms/script-field" hreflang="es"><link data-rh="true" rel="alternate" href="https://docs.hashdata.app/docs/forms/script-field" hreflang="x-default"><link rel="stylesheet" href="/docs/en/assets/css/styles.48954904.css">
<script src="/docs/en/assets/js/runtime~main.35f50b64.js" defer="defer"></script>
<script src="/docs/en/assets/js/main.678a085a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/en/"><div class="navbar__logo"><img src="/docs/en/img/logo.svg" alt="Hashdata Docs" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docs/en/img/logo.svg" alt="Hashdata Docs" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Hashdata Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/en/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/docs/en/forms/script-field"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/forms/script-field" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt">Português</a></li><li><a href="/docs/en/forms/script-field" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/docs/es/forms/script-field" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Return to the top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/en/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/en/main-menu/">Main Menu (Overview)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/en/category/formulários">Forms</a><button aria-label="Fechar a categoria lateral &#x27;Forms&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/forms/intro">Create Form</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/forms/configs">Form Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/forms/input-elements">Elements (Data Input)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/en/forms/script-field">Calculated Field (Script)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/forms/visualization-elements">Elements (View)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/en/forms/conditional-actions">Conditional actions</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/en/collaborators/">Collaborators and Device Users</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/en/notifications/">Notifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/en/migration/">Account Migration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/en/results/">Results</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/en/category/formulários"><span itemprop="name">Forms</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Calculated Field (Script)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Calculated Field (Script)</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/docs/en/forms/script-field#introduction">​</a></h2>
<p>Calculated fields allow the creation of mathematical formulas that use values associated with responses to calculate
different values, such as averages, maximum values, minimum values, standard deviations, etc.</p>
<p>To build a formula you can use any type of field/response that has a numeric value assigned.</p>
<p>See below the list of questions that have, or may have, associated numerical values and can be used in a formula:</p>
<ul>
<li>Numerical questions (Integers, decimals and quantity using Emojis)</li>
<li>Single Selection Questions (Dropdown Menu, Radio and Buttons)</li>
<li>Multiple selection questions (Check Boxes and Buttons)</li>
<li>Date and time issues</li>
<li>Assessment questions (Facial expressions and Emojis)</li>
<li>File upload issues (number of files uploaded)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-simple-formula">Creating a simple formula<a class="hash-link" aria-label="Direct link to Creating a simple formula" title="Direct link to Creating a simple formula" href="/docs/en/forms/script-field#creating-a-simple-formula">​</a></h2>
<p>Imagine that you want to create a formula that calculates the average weight of a series of samples of a certain product.
So, imagine that the form has the following questions:</p>
<ul>
<li>Sample weight 1</li>
<li>Sample weight 2</li>
<li>Sample weight 3</li>
</ul>
<p>In this case, each question must be configured with a unique field name, for example,
<code>sample_weight_1</code>, <code>sample_weight_2</code> and <code>sample_weight_3</code>.
// TODO: Add images</p>
<p>To do this, you must create a calculated field and then add the desired formula:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sample_weight_1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sample_weight_2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sample_weight_3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let&#x27;s analyze each part of the formula:</p>
<ul>
<li><code>function calculateValue()</code> is the function that will be executed to calculate the value of the calculated field.
This function cannot be renamed, it must always have this name, cannot receive parameters and must return a numeric value or <code>null</code> (null/empty).</li>
<li><code>resp</code> is an object that contains all <strong>responses</strong> of the form.</li>
<li><code>resp.peso_amostra_1</code> is a structure that contains the data associated with the answer to the question <code>peso_amostra_1</code>, such as:<!-- -->
<ul>
<li><code>number</code> is the numeric value of the response</li>
<li><code>name</code> is the name of the question field, e.g. <code>peso_amostra_1</code></li>
<li><code>tags</code> is a list of <code>tags</code> associated with the question</li>
</ul>
</li>
<li>Finally, the formula calculates the arithmetic mean of the response values, adding <code>sample_weight_1</code>, <code>sample_weight_2</code>, <code>sample_weight_3</code> and dividing by 3.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Variable names</div><div class="admonitionContent_BuS1"><p>You can use any name for the variables, but it is recommended that you use names that make sense for your form.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Autocomplete</div><div class="admonitionContent_BuS1"><p>You can use the <code>Ctrl+Space</code> or <code>Ctrl+Shift+Space</code> keys to activate autocomplete manually.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-attributes-of-responses">General attributes of responses<a class="hash-link" aria-label="Direct link to General attributes of responses" title="Direct link to General attributes of responses" href="/docs/en/forms/script-field#general-attributes-of-responses">​</a></h2>
<p>All answers have at least three attributes: <code>name</code>, <code>tags</code> and one or more specific attributes
of the answer type, for example, <code>number</code> for numeric questions, <code>text</code> for text questions, etc.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="name">name<a class="hash-link" aria-label="Direct link to name" title="Direct link to name" href="/docs/en/forms/script-field#name">​</a></h3>
<p><code>name: string</code></p>
<p>Question name. Example: <code>sample_weight_1</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tags">tags<a class="hash-link" aria-label="Direct link to tags" title="Direct link to tags" href="/docs/en/forms/script-field#tags">​</a></h3>
<p><code>tags: string[];</code></p>
<p>List of question tags, example: <code>[&#x27;weight&#x27;, &#x27;sample&#x27;]</code></p>
<p><code>Tags</code> are used to group questions and facilitate the creation of formulas.
For example, to calculate the average weights of multiple samples, simply place a
tag on each weight question, for example, <code>#weight</code>, and use that tag in the formula:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">avgByTag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;#weight&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Where <code>avgByTag</code> means: &quot;average by tag&quot;, that is, &quot;average per tag&quot;.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="response-specific-attributes">Response-specific attributes<a class="hash-link" aria-label="Direct link to Response-specific attributes" title="Direct link to Response-specific attributes" href="/docs/en/forms/script-field#response-specific-attributes">​</a></h2>
<p>See below the list of specific attributes available for each response type:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="text">text<a class="hash-link" aria-label="Direct link to text" title="Direct link to text" href="/docs/en/forms/script-field#text">​</a></h3>
<p><code>text?: string;</code></p>
<p>Textual content of the answer, available for questions like:</p>
<ul>
<li>One line text</li>
<li>Multi-line text</li>
<li>Email</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Character &quot;?&quot;</div><div class="admonitionContent_BuS1"><p>The &quot;?&quot; indicates that the attribute is optional, that is, it may or may not exist.
If the user answers the question the attribute will exist, otherwise it will not exist.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="label">label<a class="hash-link" aria-label="Direct link to label" title="Direct link to label" href="/docs/en/forms/script-field#label">​</a></h3>
<p><code>label?: string;</code></p>
<p>Label or Text linked to the selected option, available for questions such as:</p>
<ul>
<li>Single selection</li>
<li>Multiple selection</li>
<li>Facial expressions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="number">number<a class="hash-link" aria-label="Direct link to number" title="Direct link to number" href="/docs/en/forms/script-field#number">​</a></h3>
<p><code>number?: number;</code></p>
<p>Numeric content of the response, either the user-supplied content or the numeric content
linked to the selected option.
Available for questions like:</p>
<ul>
<li>Integer numbers</li>
<li>Decimal numbers</li>
<li>Quantity using Emojis</li>
<li>Mathematical formula</li>
<li>Single/simple selection</li>
<li>Facial expressions</li>
<li>Time/Time</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="datestr">dateStr<a class="hash-link" aria-label="Direct link to dateStr" title="Direct link to dateStr" href="/docs/en/forms/script-field#datestr">​</a></h3>
<p><code>dateStr?: string;</code></p>
<p>Date in text form (string).
Format: <code>YYYY-MM-DDTHH:MM:SSZ</code>, ex: 2030-12-31T23:59:59Z</p>
<p>Available for questions like:</p>
<ul>
<li>Date</li>
<li>Date and time</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lat">lat<a class="hash-link" aria-label="Direct link to lat" title="Direct link to lat" href="/docs/en/forms/script-field#lat">​</a></h3>
<p><code>lat?: number;</code></p>
<p>Latitude of the geographic coordinate reported in the response</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lon">lon<a class="hash-link" aria-label="Direct link to lon" title="Direct link to lon" href="/docs/en/forms/script-field#lon">​</a></h3>
<p><code>lon?: number;</code></p>
<p>Longitude of the geographic coordinate reported in the response</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="items">items<a class="hash-link" aria-label="Direct link to items" title="Direct link to items" href="/docs/en/forms/script-field#items">​</a></h3>
<p><code>items?: ISelectedItem[];</code></p>
<p>List of selected items, available for questions such as:</p>
<ul>
<li>Multiple selection</li>
<li>Ordering</li>
</ul>
<p>Each item in the <code>items</code> list has the following attributes:</p>
<ul>
<li><code>label: string</code>: Label or Text linked to the selected option.</li>
<li><code>number?: number</code>: Numeric content of the selected option.</li>
<li><code>position?: number</code>: Number that represents the order chosen by the user for the selected item.
Available only in <code>Ordering</code> type questions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="available-functions">Available functions<a class="hash-link" aria-label="Direct link to Available functions" title="Direct link to Available functions" href="/docs/en/forms/script-field#available-functions">​</a></h2>
<p>The functions below are tools that assist in creating formulas, allowing you to perform
complex calculations on dozens or hundreds of answers with just one line of code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="all">all<a class="hash-link" aria-label="Direct link to all" title="Direct link to all" href="/docs/en/forms/script-field#all">​</a></h3>
<p><code>function all(): IResponse[];</code></p>
<p>Returns a list (array) with all existing answers until the moment the code is executed, that is,
the answers to the questions that appear before this element.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Attention</div><div class="admonitionContent_BuS1"><p>This warning applies to all functions that return a list of responses.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="findbytag">findByTag<a class="hash-link" aria-label="Direct link to findByTag" title="Direct link to findByTag" href="/docs/en/forms/script-field#findbytag">​</a></h3>
<p><code>function findByTag(oneOrMoreTagNames: string | string[]): IResponse[];</code></p>
<p>Returns a list (array) with responses that have the specified tags. <br>
Only questions that appear before this element will be analyzed.</p>
<p>Example:</p>
<p>The function below returns the number of responses that have the <code>#weight</code> tag, that is,
the number of samples filled in by the user.</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> qntSamples </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">findByTag</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;#peso&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">hasContent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> qntSamples</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="avgbytag">avgByTag<a class="hash-link" aria-label="Direct link to avgByTag" title="Direct link to avgByTag" href="/docs/en/forms/script-field#avgbytag">​</a></h3>
<p><code>function avgByTag(...oneOrMoreTagNames: string[]): number;</code></p>
<p>Calculates the average of the numeric values of responses that have the specified tags.</p>
<p>Answers that do not have a numerical value are ignored.</p>
<p>Only questions that appear before this element will be analyzed.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tip</div><div class="admonitionContent_BuS1"><p>Ex.: If you use the following formula to calculate the average of 3 weights: <code>(weight1 + weight2 + weight3) / 3</code>, the result
will only be correct if all 3 samples are filled. Otherwise, the result will be incorrect.</p><p>Image that the user filled in only 2 samples, that is, <code>peso1</code> and <code>peso2</code>, and left the third sample blank,
in this case, the result of the formula will be: <code>(peso1 + peso2) / 3 </code>, which is different from the correct result: <code>(weight1 + weight2) / 2</code>.</p><p>To avoid this type of situation, it is recommended to use the <code>avgByTag</code> function to calculate the average,
as it appropriately handles blank answers, that is, the result will always be correct.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sumbytag">sumByTag<a class="hash-link" aria-label="Direct link to sumByTag" title="Direct link to sumByTag" href="/docs/en/forms/script-field#sumbytag">​</a></h3>
<p><code>function sumByTag(...oneOrMoreTagNames: string[]): number;</code></p>
<p>Calculates the sum of the numerical values of the responses that have the specified tags.</p>
<p>Only questions that appear before this element will be analyzed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="countbytag">countByTag<a class="hash-link" aria-label="Direct link to countByTag" title="Direct link to countByTag" href="/docs/en/forms/script-field#countbytag">​</a></h3>
<p><code>function countByTag(...oneOrMoreTagNames: string[]): number;</code></p>
<p>Returns the number of responses that have the specified tags.</p>
<p>Only questions that appear before this element will be analyzed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maxbytag">maxByTag<a class="hash-link" aria-label="Direct link to maxByTag" title="Direct link to maxByTag" href="/docs/en/forms/script-field#maxbytag">​</a></h3>
<p><code>function maxByTag(...oneOrMoreTagNames: string[]): number | undefined;</code></p>
<p>Returns the largest numeric value in responses that have the specified tags or &#x27;undefined&#x27; if no value is found.</p>
<p>Answers that do not have a numerical value are ignored.</p>
<p>Only questions that appear before this element will be analyzed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minbytag">minByTag<a class="hash-link" aria-label="Direct link to minByTag" title="Direct link to minByTag" href="/docs/en/forms/script-field#minbytag">​</a></h3>
<p><code>function minByTag(...oneOrMoreTagNames: string[]): number | undefined;</code></p>
<p>Returns the smallest numeric value in responses that have the specified tags or &#x27;undefined&#x27; if no value is found.</p>
<p>Answers that do not have a numerical value are ignored.</p>
<p>Only questions that appear before this element will be analyzed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hascontent">hasContent<a class="hash-link" aria-label="Direct link to hasContent" title="Direct link to hasContent" href="/docs/en/forms/script-field#hascontent">​</a></h3>
<p><code>declare function hasContent(value: any): boolean;</code></p>
<p>Returns <code>true</code> if the value entered is different from <code>undefined</code>, <code>null</code>, <code>[]</code> or an empty string (<code>&#x27;&#x27;</code>).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="isempty">isEmpty<a class="hash-link" aria-label="Direct link to isEmpty" title="Direct link to isEmpty" href="/docs/en/forms/script-field#isempty">​</a></h3>
<p><code>declare function isEmpty(value: any): boolean;</code></p>
<p>Returns <code>true</code> if the value entered is <code>undefined</code>, <code>null</code>, <code>[]</code> or an empty string (<code>&#x27;&#x27;</code>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples" href="/docs/en/forms/script-field#examples">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example 1<a class="hash-link" aria-label="Direct link to Example 1" title="Direct link to Example 1" href="/docs/en/forms/script-field#example-1">​</a></h3>
<p>In this example we will show how to calculate the values of the Bhaskara Formula.
The purpose of this example is to show how to store partial values in variables
and how to use these values to perform more complex calculations.</p>
<p>In this example we will also see how to use pre-defined mathematical functions, such as <code>Math.sqrt</code> and <code>Math.pow</code>.</p>
<p>Definition of Bhaskara formula:</p>
<p><img decoding="async" loading="lazy" alt="Fórmula de Bhaskara" src="/docs/en/assets/images/bhaskara-f455c2079f0bb90d6fdfba92ef9a7d8b.png" width="200" height="132" class="img_ev3q"></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> b </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> c </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> delta </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">b</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">b </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">b </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Math</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">sqrt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> a</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> x1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// or x2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Where:
<code>Math.pow(b, 2)</code> is equivalent to <code>b²</code> <br>
<code>Math.sqrt(delta)</code> is equivalent to <code>√delta</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example 2<a class="hash-link" aria-label="Direct link to Example 2" title="Direct link to Example 2" href="/docs/en/forms/script-field#example-2">​</a></h3>
<p>In this example we will see how to calculate the Fibonacci sequence.
The objective of this example is to show that it is possible to define and use different functions, including recursive functions,
thus allowing the creation of more complex calculations.</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">calculateValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> n </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">any_question_answer</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fibonacci</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fibonacci</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> n</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fibonacci</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fibonacci</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="predefined-mathematical-functions">Predefined mathematical functions<a class="hash-link" aria-label="Direct link to Predefined mathematical functions" title="Direct link to Predefined mathematical functions" href="/docs/en/forms/script-field#predefined-mathematical-functions">​</a></h2>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>abs(x)</td><td>Returns the absolute value of x</td></tr><tr><td>acos(x)</td><td>Returns the arc cosine of x, in radians</td></tr><tr><td>acosh(x)</td><td>Returns the hyperbolic arc cosine of x</td></tr><tr><td>asin(x)</td><td>Returns the arcsine of x, in radians</td></tr><tr><td>asinh(x)</td><td>Returns the hyperbolic arcsine of x</td></tr><tr><td>atan(x)</td><td>Returns the arctangent of x as a numeric value between -PI/2 and PI/2 radians</td></tr><tr><td>atan2(y, x)</td><td>Returns the arctangent of the quotient of its arguments</td></tr><tr><td>atanh(x)</td><td>Returns the hyperbolic arctangent of x</td></tr><tr><td>cbrt(x)</td><td>Returns the cube root of x</td></tr><tr><td>ceil(x)</td><td>Returns x, rounded up to the nearest integer</td></tr><tr><td>clz32(x)</td><td>Returns the number of leading zeros in a 32-bit binary representation of x</td></tr><tr><td>cos(x)</td><td>Returns the cosine of x (x is in radians)</td></tr><tr><td>cosh(x)</td><td>Returns the hyperbolic cosine of x</td></tr><tr><td>exp(x)</td><td>Returns the value of Ex</td></tr><tr><td>expm1(x)</td><td>Returns the value of Ex minus 1</td></tr><tr><td>floor(x)</td><td>Returns x, rounded down to the nearest integer</td></tr><tr><td>bottom(x)</td><td>Returns the closest float representation (32-bit single precision) of a number</td></tr><tr><td>log(x)</td><td>Returns the natural logarithm of x</td></tr><tr><td>log10(x)</td><td>Returns the base 10 logarithm of x</td></tr><tr><td>log1p(x)</td><td>Returns the natural logarithm of 1 + x</td></tr><tr><td>log2(x)</td><td>Returns the base 2 logarithm of x</td></tr><tr><td>max(x1,x2,..)</td><td>Returns the number with the highest value</td></tr><tr><td>min(x1,x2,..)</td><td>Returns the number with the smallest value</td></tr><tr><td>pow(x, y)</td><td>Returns the value of x raised to y</td></tr><tr><td>random()</td><td>Returns a random number between 0 and 1</td></tr><tr><td>round(x)</td><td>Round x to the nearest integer</td></tr><tr><td>sign(x)</td><td>Returns the sign of a number (checks whether it is positive, negative or zero)</td></tr><tr><td>sin(x)</td><td>Returns the sine of x (x is in radians)</td></tr><tr><td>sinh(x)</td><td>Returns the hyperbolic sine of x</td></tr><tr><td>sqrt(x)</td><td>Returns the square root of x</td></tr><tr><td>tan(x)</td><td>Returns the tangent of an angle</td></tr><tr><td>tanh(x)</td><td>Returns the hyperbolic tangent of a number</td></tr><tr><td>trunc(x)</td><td>Returns the integer part of a number (x)</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="predefined-mathematical-constants">Predefined mathematical constants<a class="hash-link" aria-label="Direct link to Predefined mathematical constants" title="Direct link to Predefined mathematical constants" href="/docs/en/forms/script-field#predefined-mathematical-constants">​</a></h2>
<table><thead><tr><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>Math.E</td><td>Returns the Euler number (approx. 2.718)</td></tr><tr><td>Math.PI</td><td>Returns PI (approx. 3.14)</td></tr><tr><td>Math.SQRT2</td><td>Returns the square root of 2 (approx. 1.414)</td></tr><tr><td>Math.SQRT1_2</td><td>Returns the square root of 1/2 (approx. 0.707)</td></tr><tr><td>Math.LN2</td><td>Returns the natural logarithm of 2 (approx. 0.693)</td></tr><tr><td>Math.LN10</td><td>Returns the natural logarithm of 10 (approx. 2.302)</td></tr><tr><td>Math.LOG2E</td><td>Returns the base 2 logarithm of E (approx. 1.442)</td></tr><tr><td>Math.LOG10E</td><td>Returns the base 10 logarithm of E (approx. 0.434)</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/hashdata-org/docs/tree/master/docs/forms/31-script-field.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navigating Documentation Pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/en/forms/input-elements"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Elements (Data Input)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/en/forms/visualization-elements"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Elements (View)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#creating-a-simple-formula">Creating a simple formula</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#general-attributes-of-responses">General attributes of responses</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#name">name</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#tags">tags</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#response-specific-attributes">Response-specific attributes</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#text">text</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#label">label</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#number">number</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#datestr">dateStr</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#lat">lat</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#lon">lon</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#items">items</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#available-functions">Available functions</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#all">all</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#findbytag">findByTag</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#avgbytag">avgByTag</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#sumbytag">sumByTag</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#countbytag">countByTag</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#maxbytag">maxByTag</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#minbytag">minByTag</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#hascontent">hasContent</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#isempty">isEmpty</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#examples">Examples</a><ul><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#example-1">Example 1</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#example-2">Example 2</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#predefined-mathematical-functions">Predefined mathematical functions</a></li><li><a class="table-of-contents__link toc-highlight" href="/docs/en/forms/script-field#predefined-mathematical-constants">Predefined mathematical constants</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Web</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.hashdata.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">Home page</a></li></ul></div><div class="col footer__col"><div class="footer__title">Applications</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://play.google.com/store/apps/details?id=br.com.hashdata.mobileapp" target="_blank" rel="noopener noreferrer" class="footer__link-item">Android App</a></li><li class="footer__item"><a href="https://itunes.apple.com/br/app/hashdata/id1379827155?ls=1&amp;mt=8" target="_blank" rel="noopener noreferrer" class="footer__link-item">iOS App (Apple)</a></li><li class="footer__item"><a href="https://my.hashdata.app" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forms Web App</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.youtube.com/@hashdata9298/videos" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Hashdata, Inc.</div></div></div></footer></div>
</body>
</html>